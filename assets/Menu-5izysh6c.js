import{r as c,j as s,c as _,L as g,H as h,a as p,P as x,A as j}from"./index-DLaP_fYP.js";const f="_input_nl8is_2",v="_icon_nl8is_27",i={"input-wrapper":"_input-wrapper_nl8is_2",input:f,icon:v},N="/FoodClub/assets/search-BmLR6FH6.png",w=c.forwardRef(function({isValid:t=!0,className:d,...a},o){return s.jsxs("div",{className:i["input-wrapper"],children:[s.jsx("input",{...a,ref:o,className:_(i.input,d,i.input,{[i.invalid]:!t})}),s.jsx("img",{className:i.icon,src:N,alt:"иконка лупы"})]})}),F=w,y="_head_8ulg2_1",z={head:y},P="_card_m4d7z_1",$="_head_m4d7z_11",E="_price_m4d7z_19",L="_rating_m4d7z_60",b="_footer_m4d7z_84",C="_title_m4d7z_88",S="_description_m4d7z_96",r={card:P,head:$,price:E,"add-to-card":"_add-to-card_m4d7z_39",rating:L,footer:b,title:C,description:S},R="/FoodClub/assets/cart-card-btn-TcxIqPeH.png",H="/FoodClub/assets/rating-CFyDsVn9.png";function I(e){return s.jsx(g,{to:`/product/${e.id}`,children:s.jsxs("div",{className:r.card,children:[s.jsxs("div",{className:r.head,style:{backgroundImage:`url('${e.image}')`},children:[s.jsxs("div",{className:r.price,children:[e.price,s.jsx("span",{children:" ₽"})]}),s.jsx("button",{className:r["add-to-card"],children:s.jsx("img",{src:R,alt:"добавить в корзину"})}),s.jsxs("div",{className:r.rating,children:[e.rating,s.jsx("img",{src:H,alt:"иконка звезды"})]})]}),s.jsxs("div",{className:r.footer,children:[s.jsx("div",{className:r.title,children:e.title}),s.jsx("div",{className:r.description,children:e.ingredients})]})]})})}const M="_wrapper_1tqpp_1",T={wrapper:M};function k({products:e}){return s.jsx("div",{className:T.wrapper,children:e.map(t=>s.jsx(I,{id:t.id,title:t.title,ingredients:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function A(){const[e,t]=c.useState([]),[d,a]=c.useState(!1),[o,l]=c.useState(),u=async()=>{try{a(!0),await new Promise(m=>{setTimeout(()=>{m()},1e3)});const{data:n}=await p.get(x+"/products");t(n),a(!1)}catch(n){console.error(n),n instanceof j&&(l("Данные загружены локально "+n.message),a(!1)),setTimeout(()=>l(void 0),3e3);return}};return c.useEffect(()=>{u()},[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:z.head,children:[s.jsx(h,{children:"Меню"}),s.jsx(F,{placeholder:"Введите блюдо или состав"})]}),s.jsxs("div",{children:[o&&s.jsx(s.Fragment,{children:o}),!d&&s.jsx(k,{products:e}),d&&s.jsx(s.Fragment,{children:"Загружаем продукты..."})]})]})}export{A as default};
