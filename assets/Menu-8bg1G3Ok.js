import{a as u,j as s,c as m,r as o,L as g,P as p}from"./index-DXNSrek2.js";const{Axios:D,AxiosError:x,CanceledError:O,isCancel:V,CancelToken:J,VERSION:U,all:X,Cancel:G,isAxiosError:K,spread:Q,toFormData:W,AxiosHeaders:Y,HttpStatusCode:Z,formToJSON:ss,getAdapter:es,mergeConfig:ts}=u,j="_h1_19ytc_1",f={h1:j};function N({children:e,className:t,...a}){return s.jsx("h1",{className:m(t,f.h1),...a,children:e})}const v="_input_nl8is_2",C="_icon_nl8is_27",c={"input-wrapper":"_input-wrapper_nl8is_2",input:v,icon:C},w="/FoodClub/assets/search-BmLR6FH6.png",y=o.forwardRef(function({isValid:t=!0,className:a,...n},d){return s.jsxs("div",{className:c["input-wrapper"],children:[s.jsx("input",{...n,ref:d,className:m(c.input,a,c.input,{[c.invalid]:!t})}),s.jsx("img",{className:c.icon,src:w,alt:"иконка лупы"})]})}),E=y,F="_head_8ulg2_1",S={head:F},$="_card_m4d7z_1",z="_head_m4d7z_11",P="_price_m4d7z_19",L="_rating_m4d7z_60",b="_footer_m4d7z_84",R="_title_m4d7z_88",A="_description_m4d7z_96",r={card:$,head:z,price:P,"add-to-card":"_add-to-card_m4d7z_39",rating:L,footer:b,title:R,description:A},H="/FoodClub/assets/cart-card-btn-TcxIqPeH.png",I="/FoodClub/assets/rating-CFyDsVn9.png";function T(e){return s.jsx(g,{to:`/product/${e.id}`,children:s.jsxs("div",{className:r.card,children:[s.jsxs("div",{className:r.head,style:{backgroundImage:`url('${e.image}')`},children:[s.jsxs("div",{className:r.price,children:[e.price,s.jsx("span",{children:" ₽"})]}),s.jsx("button",{className:r["add-to-card"],children:s.jsx("img",{src:H,alt:"добавить в корзину"})}),s.jsxs("div",{className:r.rating,children:[e.rating,s.jsx("img",{src:I,alt:"иконка звезды"})]})]}),s.jsxs("div",{className:r.footer,children:[s.jsx("div",{className:r.title,children:e.title}),s.jsx("div",{className:r.description,children:e.ingredients})]})]})})}const k="_wrapper_1tqpp_1",M={wrapper:k};function q({products:e}){return s.jsx("div",{className:M.wrapper,children:e.map(t=>s.jsx(T,{id:t.id,title:t.title,ingredients:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function rs(){const[e,t]=o.useState([]),[a,n]=o.useState(!1),[d,l]=o.useState(),_=async()=>{try{n(!0),await new Promise(h=>{setTimeout(()=>{h()},1e3)});const{data:i}=await u.get(p+"/products");t(i),n(!1)}catch(i){console.error(i),i instanceof x&&(l("Данные загружены локально "+i.message),n(!1)),setTimeout(()=>l(void 0),3e3);return}};return o.useEffect(()=>{_()},[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:S.head,children:[s.jsx(N,{children:"Меню"}),s.jsx(E,{placeholder:"Введите блюдо или состав"})]}),s.jsxs("div",{children:[d&&s.jsx(s.Fragment,{children:d}),!a&&s.jsx(q,{products:e}),a&&s.jsx(s.Fragment,{children:"Загружаем продукты..."})]})]})}export{rs as default};
