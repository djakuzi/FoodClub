import{a as u,j as e,c as m,r as d,L as h,P as x}from"./index-B2NcMa1I.js";const{Axios:M,AxiosError:g,CanceledError:O,isCancel:q,CancelToken:D,VERSION:J,all:V,Cancel:X,isAxiosError:B,spread:G,toFormData:K,AxiosHeaders:Q,HttpStatusCode:U,formToJSON:W,getAdapter:Y,mergeConfig:Z}=u,j="_h1_19ytc_1",f={h1:j};function N({children:s,className:t,...n}){return e.jsx("h1",{className:m(t,f.h1),...n,children:s})}const v="_input_nl8is_2",w="_icon_nl8is_27",c={"input-wrapper":"_input-wrapper_nl8is_2",input:v,icon:w},y=d.forwardRef(function({isValid:t=!0,className:n,...a},o){return e.jsxs("div",{className:c["input-wrapper"],children:[e.jsx("input",{...a,ref:o,className:m(c.input,n,c.input,{[c.invalid]:!t})}),e.jsx("img",{className:c.icon,src:"./menu/search.png",alt:"иконка лупы"})]})}),E=y,S="_head_8ulg2_1",z={head:S},$="_card_m4d7z_1",C="_head_m4d7z_11",A="_price_m4d7z_19",F="_rating_m4d7z_60",L="_footer_m4d7z_84",P="_title_m4d7z_88",I="_description_m4d7z_96",r={card:$,head:C,price:A,"add-to-card":"_add-to-card_m4d7z_39",rating:F,footer:L,title:P,description:I};function R(s){return e.jsx(h,{to:`/product/${s.id}`,children:e.jsxs("div",{className:r.card,children:[e.jsxs("div",{className:r.head,style:{backgroundImage:`url('${s.image}')`},children:[e.jsxs("div",{className:r.price,children:[s.price,e.jsx("span",{children:" ₽"})]}),e.jsx("button",{className:r["add-to-card"],children:e.jsx("img",{src:"./menu/cart-card-btn.png",alt:"добавить в корзину"})}),e.jsxs("div",{className:r.rating,children:[s.rating,e.jsx("img",{src:"./menu/rating.png",alt:"иконка звезды"})]})]}),e.jsxs("div",{className:r.footer,children:[e.jsx("div",{className:r.title,children:s.title}),e.jsx("div",{className:r.description,children:s.description})]})]})})}const T="_wrapper_1tqpp_1",b={wrapper:T};function k({products:s}){return e.jsx("div",{className:b.wrapper,children:s.map(t=>e.jsx(R,{id:t.id,title:t.title,description:t.description.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function ee(){const[s,t]=d.useState([]),[n,a]=d.useState(!1),[o,l]=d.useState(),_=async()=>{try{a(!0),await new Promise(p=>{setTimeout(()=>{p()},1e3)});const{data:i}=await u.get(x+"/products");t(i),a(!1)}catch(i){console.error(i),i instanceof g&&(l("Данные загружены локально "+i.message),a(!1)),setTimeout(()=>l(void 0),3e3);return}};return d.useEffect(()=>{_()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.head,children:[e.jsx(N,{children:"Меню"}),e.jsx(E,{placeholder:"Введите блюдо или состав"})]}),e.jsxs("div",{children:[o&&e.jsx(e.Fragment,{children:o}),!n&&e.jsx(k,{products:s}),n&&e.jsx(e.Fragment,{children:"Загружаем продукты..."})]})]})}export{ee as default};
